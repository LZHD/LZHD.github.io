---
layout : life
title: Simple-RTMP-Server学习
category : 环境搭建
duoshuo: true
date : 2015-02-03
---

<!-- more -->

******

## ***Simple-RTMP-Server 服务器搭建***

### ***1. 服务器镜像获取***

* github源码地址

```html
	git clone https://github.com/winlinvip/simple-rtmp-server.git
```

* CSDN镜像地址

```html
	git clone https://code.csdn.net/winlinvip/srs-csdn.git
```

* OSChina镜像

```html
	git clone https://git.oschina.net/winlinvip/srs.oschina.git
```

### ***2. 关闭防火墙和selinux或者开放端口***

* 关闭防火墙

```sh
	# disable the firewall
	sudo /etc/init.d/iptables stop
	sudo /sbin/chkconfig iptables off
```

* 使selinux失败
 * 编辑配置文件：sudo vi /etc/sysconfig/selinux
 * 把SELINUX的值改为disabled：SELINUX=disabled
 * 重启系统：sudo init 6

### ***3. 编译系统***

```sh
	make && sudo make install
```
安装命令会将SRS默认安装到`/usr/local/srs`中，可以在`configure`时指定其他目录，譬如`./configure --prefix=`pwd`/_release` 可以安装到当前的`_release`目录(可以不用sudo安装，直接用make install即可安装)

### ***4. 建立启动服务***

***4.1 建立软连接***

```sh
	sudo ln -sf   /usr/local/srs/etc/init.d/srs  /etc/init.d/srs
```
* 备注：若SRS安装到其他目录，将/usr/local/srs替换成其他目录。

* 备注：也可以使用其他的名称，譬如/etc/init.d/srs，可以任意名称，启动时也用该名称。

***4.2 添加服务***

```sh
	#centos 6
	sudo /sbin/chkconfig --add srs
```

或者

```sh
	#ubuntu12
	sudo update-rc.d srs defaults
```

***4.3 使用init.d脚本管理SRS***

查看SRS状态：

```sh
	/etc/init.d/srs status
```

启动SRS：

```sh
	/etc/init.d/srs start
```

停止SRS：

```sh
	/etc/init.d/srs stop
```

重启SRS：

```sh
	/etc/init.d/srs restart
```

Reload SRS：

```sh
	/etc/init.d/srs reload
```









