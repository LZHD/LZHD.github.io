---
layout : life
title : linux下进程后台运行方法
category : linux学习
duoshuo : true
date : 2016-01-25
---


******

本文绝大部分都是摘抄自[这里](https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/)，我在这里做记录仅仅为了自己以后查阅的方便。

<!-- more -->

### 1. nohup

`nohup` 的作用就是让提交的命令忽略`hangup`信号，`nohup` 命令的帮助信息：

```

用法：nohup 命令 [参数]...
　或：nohup 选项
忽略挂起信号运行指定的命令。

      --help		显示此帮助信息并退出
      --version		显示版本信息并退出

If standard input is a terminal, redirect it from /dev/null.
If standard output is a terminal, append output to 'nohup.out' if possible,
'$HOME/nohup.out' otherwise.
If standard error is a terminal, redirect it to standard output.
To save output to FILE, use 'nohup COMMAND > FILE'.

注意：您的shell 内含自己的nohup 程序版本，它会覆盖这里所提及的相应
版本。请查阅您的shell 文档获知它所支持的选项。

请向bug-coreutils@gnu.org 报告nohup 的错误
GNU coreutils 的主页：<http://www.gnu.org/software/coreutils/>
GNU 软件一般性帮助：<http://www.gnu.org/gethelp/>
请向<http://translationproject.org/team/zh_CN.html> 报告nohup 的翻译错误
要获取完整文档，请运行：info coreutils 'nohup invocation'

```

可见,nohup的使用时十分方便的，只需在要处理的命令前加上nohup即可，标准输出和标准错误缺省会被重定向到nohup.out文件中，一般我们可在结尾加上'&'来将命令放入后台运行，也可以用 “>/filename 2>&1” 来更改缺省的重定向文件名。

***nohup示例：***
  
```
daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$ nohup ping www.baidu.com &
[1] 26716
nohup: 忽略输入并把输出追加到"nohup.out"
daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$ ps -ef | grep 26716
daodaol+ 26716 20718  0 14:13 pts/5    00:00:00 ping www.baidu.com
daodaol+ 26721 20718  0 14:13 pts/5    00:00:00 grep --color=auto 26716
daodaoliang@daodaoliang-B85-HD3:/work/code/daodaoliang.github.com/_posts/linux学习$ 

```

### 2. setsid

nohup无疑通过忽略HUP信号来使我们的进程避免中途被中断，但如果我们换个角度思考，如果我们的进程不属于接受HUP信号的终端的子进程，那么自然也就是不回收到HUP信号的影响了，setsid就能帮助我们做到这一点。

***setsid 示例：***

```

```