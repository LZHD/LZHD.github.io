---
layout : life
title : centos 6.5 搭建ftp 服务器
category : linux学习
duoshuo : true
date : 2015-10-10
---


******

<!-- more -->

## 0x00 如何快速的搭建简易的资源发布站

### 开启简易的python http服务器

```sh
	cd /home/your_path
	python -m SimpleHTTPServer 8000
```

### 开启防火墙的对应端口

```sh
	vim /etc/sysconfig/iptables
```

增加对应的端口就好

## 0x01 知识储备



***FTP 通道解释***

+ FTP包含了两个通道，一个叫控制通道，一个叫数据通道；
 + 控制通道：控制通道是和FTP服务器进行沟通的通道，连接FTP，发送FTP指令都是通过控制通道来完成的。
 + 数据通道：数据通道是和FTP服务器进行文件传输或者列表的通道。
+ FTP协议中，控制连接均有客户端发起，而数据连接有两种工作方式：PORT方式和PASV方式


***FTP 数据通道的主动被动方式***

+ PORT模式(主动方式)

> FTP 客户端首先和FTP Server的TCP 21端口建立连接，通过这个通道发送命令，客户端需要接收数据的时候在这个通道上发送PORT命令。 PORT命令包含了客户端用什么端口(一个大于1024的端口)接收数据。在传送数据的时候，服务器端通过自己的TCP 20端口发送数据。 FTP server必须和客户端建立一个新的连接用来传送数据。

+ PASV模式(被动方式)

> 在建立控制通道的时候和PORT模式类似，当客户端通过这个通道发送PASV 命令的时候，FTP server打开一个位于1024和5000之间的随机端口并且通知客户端在这个端口上传送数据的请求，然后FTP server 将通过这个端口进行数据的传送，这个时候FTP server不再需要建立一个新的和客户端之间的连接传送数据。

***vsftpd的配置文件说明***




