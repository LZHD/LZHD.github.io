---
layout : life
title: 以正确的方式开源 Python 项目(转载)
category : 开源框架学习
duoshuo: true
date : 2015-11-04
---

**重要的事情要加黑:** [原文地址][0]

<!-- more -->

大多数Python开发者至少都写过一个像工具、脚本、库或框架等对其他人也有用的工具。我写这篇文章的目的是让现有Python代码的开源过程尽可能清晰和无痛。我不是简单的指——“创建一个GitHub库，提交，在Reddit上发布，每天调用它”。在本文的结尾，你可以把现有的代码转换成一个能够鼓励他人使用和贡献的开源项目。然而每一个项目都是不同的，但其中将现有代码开源的流程对所有的Python项目都是类似的.

## 1. 工具和概念

+ 1.1. 项目布局(目录结构)
+ 1.2. setuptools 和 setup.py文件
+ 1.3. git 版本控制
+ 1.4. github 项目管理
 + 1.4.1 github `issues`的如下作用:
  + 1.4.1.1 bug跟踪
  + 1.4.1.2 请求新特性
  + 1.4.1.3 计划好的新特性
  + 1.4.1.4 发布或者版本管理
+ 1.5. git-flow git工作流
+ 1.6. py.test 单元测试
+ 1.7. tox 标准化测试
+ 1.8. sphinx 自动生成html文档
+ 1.9. TravisCI 持续测试集成
+ 1.10 ReadTheDocs 持续文档集成
+ 1.11 Cookiecutter  为开始下一个项目自动生成这些步骤

### 1.1 项目布局

当准备一个项目时，正确合理的布局(目录结构) 是十分重要的。一个合理的布局意味着参与者不必花时间来寻找某些代码的位置，凭直觉就可以找到文件的位置。因为我们在处理一个项目，就意味着可能需要到处移动一些东西，让我们从顶层开始，大多数项目都有很多的顶层文件(如：setup.py, README.md, requirements等等)。每个项目至少应该又下面三个目录：

> * doc 目录，包括项目文档
> * 项目目录， 以项目命名，存储实际的Python包
> * test目录

为了更好的理解文件该如何组织，这里时我的简单项目：sandman 布局快照：

```sh
$ pwd
~/code/sandman
$ tree
.
|- LICENSE
|- README.md
|- TODO.md
|- docs
|   |-- conf.py
|   |-- generated
|   |-- index.rst
|   |-- installation.rst
|   |-- modules.rst
|   |-- quickstart.rst
|   |-- sandman.rst
|- requirements.txt
|- sandman
|   |-- __init__.py
|   |-- exception.py
|   |-- model.py
|   |-- sandman.py
|   |-- test
|       |-- models.py
|       |-- test_sandman.py
|- setup.py

```

如你所看到那样，这里有一些顶层文件，一个docs目录（建立一个空目录，因为sphinx会将生成的文档放到这里），一个sandman目录，以及一个在sandman目录下的test目录

[0]: http://www.oschina.net/translate/open-sourcing-a-python-project-the-right-way?print
